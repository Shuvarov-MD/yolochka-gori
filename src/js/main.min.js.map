{"version":3,"sources":["maskPhone.js","showPopup.js"],"names":["maskPhone","selector","mask","event","keyCode","template","masked","def","replace","val","_this","value","i","newValue","a","length","charAt","indexOf","slice","reg","substr","RegExp","test","type","arguments","undefined","_iterator","_createForOfIteratorHelper","document","querySelectorAll","s","_step","n","done","elem","addEventListener","err","e","f","showPopup","popupWrapper","querySelector","popupBlock","concat","classList","add","forEach","item"],"mappings":"kqCAAA,IAAAA,UAAA,SAAAC,EAAA,GAGA,SAAAC,EAAAC,GACA,IAAAC,EAAAD,EAAAC,QACAC,EAAAC,EACAC,EAAAF,EAAAG,QAAA,MAAA,IACAC,EAAAC,MAAAC,MAAAH,QAAA,MAAA,IAEAI,EAAA,EACAC,EAAAR,EAAAG,QAAA,SAAA,SAAAM,GAAA,OAAAF,EAAAH,EAAAM,OAAAN,EAAAO,OAAAJ,MAAAL,EAAAS,OAAAJ,GAAAE,KAGA,KAFAF,EAAAC,EAAAI,QAAA,QAGAJ,EAAAA,EAAAK,MAAA,EAAAN,IAGAO,EAAAd,EAAAe,OAAA,EAAAV,MAAAC,MAAAI,QAAAP,QAAA,MACA,SAAAM,GAAA,MAAA,SAAAA,EAAAC,OAAA,MAAAP,QAAA,SAAA,WACAW,EAAA,IAAAE,OAAA,IAAAF,EAAA,MAEAG,KAAAZ,MAAAC,QAAAD,MAAAC,MAAAI,OAAA,GAAA,GAAAX,GAAAA,EAAA,MACAM,MAAAC,MAAAE,GAGA,SAAAV,EAAAoB,MAAAb,MAAAC,MAAAI,OAAA,IACAL,MAAAC,MAAA,IA1BA,IAAAL,EAAA,EAAAkB,UAAAT,aAAAU,IAAA,EAAA,EAAA,qBAAAC,EAAAC,2BACAC,SAAAC,iBAAA5B,IADA,IA+BA,IAAAyB,EAAAI,MAAAC,EAAAL,EAAAM,KAAAC,MAAA,CAAA,IAAAC,EAAAH,EAAApB,MACAuB,EAAAC,iBAAA,QAAAjC,GACAgC,EAAAC,iBAAA,QAAAjC,GACAgC,EAAAC,iBAAA,OAAAjC,IAlCA,MAAAkC,GAAAV,EAAAW,EAAAD,GAAA,QAAAV,EAAAY,MAuCAtC,UAAA,qBCvCA,IAAAuC,UAAA,SAAAtC,GACA,IAAAuC,EAAAZ,SAAAa,cAAA,mBACAC,EAAAd,SAAAa,cAAA,kBAAAE,OAAA1C,IAEAuC,EAAAI,UAAAC,IAAA,iBACAH,EAAAE,UAAAC,IAAA,kBAGAjB,SAAAC,iBAAA,aAAAiB,QAAA,SAAAC,GACAA,EAAAZ,iBAAA,QAAA,WAAA,OAAAI,UAAA,gBAGAX,SAAAC,iBAAA,YAAAiB,QAAA,SAAAC,GACAA,EAAAZ,iBAAA,QAAA,WAAA,OAAAI,UAAA,eAGAX,SAAAC,iBAAA,QAAAiB,QAAA,SAAAC,GACAA,EAAAZ,iBAAA,QAAA,WAAA,OAAAI,UAAA","file":"main.min.js","sourcesContent":["const maskPhone = (selector, masked = '+7 (___) ___-__-__') => {\r\n  const elems = document.querySelectorAll(selector);\r\n\r\n  const mask = event => {\r\n    const keyCode = event.keyCode;\r\n    const template = masked,\r\n      def = template.replace(/\\D/g, \"\"),\r\n      val = this.value.replace(/\\D/g, \"\");\r\n\r\n    let i = 0,\r\n      newValue = template.replace(/[_\\d]/g, a => (i < val.length ? val.charAt(i++) || def.charAt(i) : a));\r\n    i = newValue.indexOf(\"_\");\r\n\r\n    if (i !== -1) {\r\n      newValue = newValue.slice(0, i);\r\n    }\r\n\r\n    let reg = template.substr(0, this.value.length).replace(/_+/g,\r\n      a => \"\\\\d{1,\" + a.length + \"}\").replace(/[+()]/g, \"\\\\$&\");\r\n    reg = new RegExp(\"^\" + reg + \"$\");\r\n\r\n    if (!reg.test(this.value) || this.value.length < 5 || keyCode > 47 && keyCode < 58) {\r\n      this.value = newValue;\r\n    }\r\n\r\n    if (event.type === \"blur\" && this.value.length < 5) {\r\n      this.value = \"\";\r\n    }\r\n\r\n  };\r\n\r\n  for (const elem of elems) {\r\n    elem.addEventListener(\"input\", mask);\r\n    elem.addEventListener(\"focus\", mask);\r\n    elem.addEventListener(\"blur\", mask);\r\n  }\r\n\r\n};\r\n\r\nmaskPhone('input[type=\"tel\"]');\r\n","const showPopup = selector => {\r\n  const popupWrapper = document.querySelector('.popup__wrapper'),\r\n    popupBlock = document.querySelector(`.popup__block--${selector}`);\r\n\r\n  popupWrapper.classList.add('popup--active');\r\n  popupBlock.classList.add('popup--active');\r\n};\r\n\r\ndocument.querySelectorAll('.callback').forEach(item => {\r\n  item.addEventListener('click', () => showPopup('callback'));\r\n});\r\n\r\ndocument.querySelectorAll('.request').forEach(item => {\r\n  item.addEventListener('click', () => showPopup('request'));\r\n});\r\n\r\ndocument.querySelectorAll('.set').forEach(item => {\r\n  item.addEventListener('click', () => showPopup('set'));\r\n});\r\n"]}