{"version":3,"sources":["closePopup.js","maskPhone.js","showPopup.js"],"names":["closePopup","document","querySelectorAll","forEach","item","classList","remove","popupWrapper","querySelector","addEventListener","event","target","closest","body","key","maskPhone","selector","mask","keyCode","template","masked","def","replace","val","_this","value","i","newValue","a","length","charAt","indexOf","slice","reg","substr","RegExp","test","type","arguments","undefined","_iterator","_createForOfIteratorHelper","s","_step","n","done","elem","err","e","f","showPopup","popupBlock","concat","add"],"mappings":"kqCAAA,IAAAA,WAAA,WACAC,SAAAC,iBAAA,kBAEAC,QAAA,SAAAC,GAAA,OAAAA,EAAAC,UAAAC,OAAA,oBAGAC,aAAAN,SAAAO,cAAA,mBAEAD,aAAAE,iBAAA,QAAA,SAAAC,IACAA,EAAAC,OAAAC,QAAA,kBAAAF,EAAAC,OAAAC,QAAA,kBACAZ,eAIAC,SAAAY,KAAAJ,iBAAA,UAAA,SAAAC,GACA,WAAAA,EAAAI,KAAAb,SAAAO,cAAA,mBACAR,eChBA,IAAAe,UAAA,SAAAC,EAAA,GAGA,SAAAC,EAAAP,GACA,IAAAQ,EAAAR,EAAAQ,QACAC,EAAAC,EACAC,EAAAF,EAAAG,QAAA,MAAA,IACAC,EAAAC,MAAAC,MAAAH,QAAA,MAAA,IAEAI,EAAA,EACAC,EAAAR,EAAAG,QAAA,SAAA,SAAAM,GAAA,OAAAF,EAAAH,EAAAM,OAAAN,EAAAO,OAAAJ,MAAAL,EAAAS,OAAAJ,GAAAE,KAGA,KAFAF,EAAAC,EAAAI,QAAA,QAGAJ,EAAAA,EAAAK,MAAA,EAAAN,IAGAO,EAAAd,EAAAe,OAAA,EAAAV,MAAAC,MAAAI,QAAAP,QAAA,MACA,SAAAM,GAAA,MAAA,SAAAA,EAAAC,OAAA,MAAAP,QAAA,SAAA,WACAW,EAAA,IAAAE,OAAA,IAAAF,EAAA,MAEAG,KAAAZ,MAAAC,QAAAD,MAAAC,MAAAI,OAAA,GAAA,GAAAX,GAAAA,EAAA,MACAM,MAAAC,MAAAE,GAGA,SAAAjB,EAAA2B,MAAAb,MAAAC,MAAAI,OAAA,IACAL,MAAAC,MAAA,IA1BA,IAAAL,EAAA,EAAAkB,UAAAT,aAAAU,IAAA,EAAA,EAAA,qBAAAC,EAAAC,2BACAxC,SAAAC,iBAAAc,IADA,IA+BA,IAAAwB,EAAAE,MAAAC,EAAAH,EAAAI,KAAAC,MAAA,CAAA,IAAAC,EAAAH,EAAAlB,MACAqB,EAAArC,iBAAA,QAAAQ,GACA6B,EAAArC,iBAAA,QAAAQ,GACA6B,EAAArC,iBAAA,OAAAQ,IAlCA,MAAA8B,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,MAuCAlC,UAAA,qBCvCA,IAAAmC,UAAA,SAAAlC,GACA,IAAAT,EAAAN,SAAAO,cAAA,mBACA2C,EAAAlD,SAAAO,cAAA,kBAAA4C,OAAApC,IAEAT,EAAAF,UAAAgD,IAAA,iBACAF,EAAA9C,UAAAgD,IAAA,kBAGApD,SAAAC,iBAAA,aAAAC,QAAA,SAAAC,GACAA,EAAAK,iBAAA,QAAA,WAAA,OAAAyC,UAAA,gBAGAjD,SAAAC,iBAAA,YAAAC,QAAA,SAAAC,GACAA,EAAAK,iBAAA,QAAA,WAAA,OAAAyC,UAAA,eAGAjD,SAAAC,iBAAA,QAAAC,QAAA,SAAAC,GACAA,EAAAK,iBAAA,QAAA,WAAA,OAAAyC,UAAA","file":"main.min.js","sourcesContent":["const closePopup = () => {\r\n  const popupActive = document.querySelectorAll('.popup--active');\r\n\r\n  popupActive.forEach(item => item.classList.remove('popup--active'));\r\n};\r\n\r\nconst popupWrapper = document.querySelector('.popup__wrapper');\r\n\r\npopupWrapper.addEventListener('click', event => {\r\n  if (event.target.closest('.popup__close')  || !event.target.closest('.popup__block')) {\r\n    closePopup();\r\n  }\r\n});\r\n\r\ndocument.body.addEventListener('keydown', event => {\r\n  if (event.key === \"Escape\" && document.querySelector('.popup--active')) {\r\n    closePopup();\r\n  }\r\n});\r\n","const maskPhone = (selector, masked = '+7 (___) ___-__-__') => {\r\n  const elems = document.querySelectorAll(selector);\r\n\r\n  const mask = event => {\r\n    const keyCode = event.keyCode;\r\n    const template = masked,\r\n      def = template.replace(/\\D/g, \"\"),\r\n      val = this.value.replace(/\\D/g, \"\");\r\n\r\n    let i = 0,\r\n      newValue = template.replace(/[_\\d]/g, a => (i < val.length ? val.charAt(i++) || def.charAt(i) : a));\r\n    i = newValue.indexOf(\"_\");\r\n\r\n    if (i !== -1) {\r\n      newValue = newValue.slice(0, i);\r\n    }\r\n\r\n    let reg = template.substr(0, this.value.length).replace(/_+/g,\r\n      a => \"\\\\d{1,\" + a.length + \"}\").replace(/[+()]/g, \"\\\\$&\");\r\n    reg = new RegExp(\"^\" + reg + \"$\");\r\n\r\n    if (!reg.test(this.value) || this.value.length < 5 || keyCode > 47 && keyCode < 58) {\r\n      this.value = newValue;\r\n    }\r\n\r\n    if (event.type === \"blur\" && this.value.length < 5) {\r\n      this.value = \"\";\r\n    }\r\n\r\n  };\r\n\r\n  for (const elem of elems) {\r\n    elem.addEventListener(\"input\", mask);\r\n    elem.addEventListener(\"focus\", mask);\r\n    elem.addEventListener(\"blur\", mask);\r\n  }\r\n\r\n};\r\n\r\nmaskPhone('input[type=\"tel\"]');\r\n","const showPopup = selector => {\r\n  const popupWrapper = document.querySelector('.popup__wrapper'),\r\n    popupBlock = document.querySelector(`.popup__block--${selector}`);\r\n\r\n  popupWrapper.classList.add('popup--active');\r\n  popupBlock.classList.add('popup--active');\r\n};\r\n\r\ndocument.querySelectorAll('.callback').forEach(item => {\r\n  item.addEventListener('click', () => showPopup('callback'));\r\n});\r\n\r\ndocument.querySelectorAll('.request').forEach(item => {\r\n  item.addEventListener('click', () => showPopup('request'));\r\n});\r\n\r\ndocument.querySelectorAll('.set').forEach(item => {\r\n  item.addEventListener('click', () => showPopup('set'));\r\n});\r\n"]}